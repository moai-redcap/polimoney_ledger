# 勘定科目マスタ仕様書

本ドキュメントは、Polimoney Ledger で使用する勘定科目の一覧と、法令との対応関係を整理したものです。

## 目次

1. [概要](#概要)
2. [法的根拠](#法的根拠)
3. [科目体系](#科目体系)
4. [政治資金収支報告書（政治団体用）の科目](#政治資金収支報告書政治団体用の科目)
5. [選挙運動費用収支報告書（選挙用）の科目](#選挙運動費用収支報告書選挙用の科目)
6. [共通科目（資産・負債・純資産）](#共通科目資産負債純資産)
7. [補助科目について](#補助科目について)
8. [現状の課題と改善案](#現状の課題と改善案)

---

## 概要

### データの格納場所

| データ種別                      | 格納場所  | 管理主体             |
| ------------------------------- | --------- | -------------------- |
| 勘定科目マスタ（account_codes） | Hub DB    | システム管理者       |
| 補助科目（sub_accounts）        | Ledger DB | ユーザー（台帳ごと） |

### 台帳タイプ（ledger_type）

| 値             | 対象                                 | 報告書                 |
| -------------- | ------------------------------------ | ---------------------- |
| `organization` | 政治団体（資金管理団体、政党支部等） | 政治資金収支報告書     |
| `election`     | 選挙運動                             | 選挙運動費用収支報告書 |
| `both`         | 両方で使用可能                       | -                      |

---

## 法的根拠

### 政治資金収支報告書

- **根拠法:** 政治資金規正法
- **施行規則:** 政治資金規正法施行規則 別記第 13 号様式
- **参考資料:** 総務省「国会議員関係政治団体の収支報告の手引」

### 選挙運動費用収支報告書

- **根拠法:** 公職選挙法
- **施行規則:** 公職選挙法施行規則
- **参考資料:** 各選挙管理委員会発行の手引

---

## 科目体系

```
account_codes（勘定科目マスタ）
├── type: 勘定タイプ
│   ├── asset（資産）
│   ├── liability（負債）
│   ├── equity（純資産）
│   ├── revenue（収入）
│   ├── expense（支出）
│   └── subsidy（公費負担）
├── ledger_type: 使用可能な台帳
│   ├── both（共通）
│   ├── organization（政治団体）
│   └── election（選挙運動）
├── report_category: 報告書上の分類
└── is_public_subsidy_eligible: 公費負担対象フラグ

sub_accounts（補助科目）← ユーザーが任意追加
├── parent_account_code: 親勘定科目
├── ledger_type: 台帳タイプ
└── name: 補助科目名
```

---

## 政治資金収支報告書（政治団体用）の科目

### 収入科目（type: revenue, ledger_type: organization）

| code                      | name                       | report_category | 法定様式での位置                    | 備考         |
| ------------------------- | -------------------------- | --------------- | ----------------------------------- | ------------ |
| `REV_MEMBERSHIP_FEE`      | 党費・会費                 | 党費・会費      | 1. 個人の負担する党費又は会費       |              |
| `REV_DONATION_INDIVIDUAL` | 個人からの寄附             | 寄附            | 2-1(1) 個人からの寄附               |              |
| `REV_DONATION_CORPORATE`  | 法人その他の団体からの寄附 | 寄附            | 2-1(2) 法人その他の団体からの寄附   |              |
| `REV_DONATION_POLITICAL`  | 政治団体からの寄附         | 寄附            | 2-1(3) 政治団体からの寄附           |              |
| `REV_ANONYMOUS`           | 政党匿名寄附               | 寄附            | 2-2 政党匿名寄附                    | 政党支部のみ |
| `REV_MAGAZINE`            | 機関紙誌の発行事業収入     | 事業収入        | 3(1) 機関紙誌の発行事業             |              |
| `REV_PARTY_EVENT`         | 政治資金パーティー収入     | 事業収入        | 3(2) 政治資金パーティー開催事業     |              |
| `REV_OTHER_BUSINESS`      | その他の事業収入           | 事業収入        | 3(3) その他の事業                   |              |
| `REV_GRANT_HQ`            | 本部・支部からの交付金     | 交付金          | 5. 本部又は支部から供与された交付金 |              |
| `REV_INTEREST`            | 利子収入                   | その他の収入    | 6. その他の収入                     | 共通（both） |
| `REV_MISC`                | その他の収入               | その他の収入    | 6. その他の収入                     |              |

**⚠️ 法定様式との差異:**

- 「4. 借入金」は収入ではなく負債科目（`LIAB_LOAN`）として管理

### 支出科目 - 経常経費（type: expense, ledger_type: organization）

| code            | name           | report_category | 法定様式での位置    | 備考                                     |
| --------------- | -------------- | --------------- | ------------------- | ---------------------------------------- |
| `EXP_PERSONNEL` | 人件費         | 経常経費        | 1(1) 人件費         | 給料、報酬、諸手当、社会保険料等         |
| `EXP_UTILITIES` | 光熱水費       | 経常経費        | 1(2) 光熱水費       | 電気、ガス、水道の使用料                 |
| `EXP_SUPPLIES`  | 備品・消耗品費 | 経常経費        | 1(3) 備品・消耗品費 | 机、椅子、事務用品、ガソリン等           |
| `EXP_OFFICE`    | 事務所費       | 経常経費        | 1(4) 事務所費       | 家賃、公租公課、保険料、通信費、修繕料等 |

### 支出科目 - 政治活動費（type: expense, ledger_type: organization）

| code                 | name                         | report_category | 法定様式での位置                      | 備考                                         |
| -------------------- | ---------------------------- | --------------- | ------------------------------------- | -------------------------------------------- |
| `EXP_ORGANIZATION`   | 組織活動費                   | 政治活動費      | 2(1) 組織活動費                       | 大会費、行事費、組織対策費、渉外費、交際費等 |
| `EXP_ELECTION`       | 選挙関係費                   | 政治活動費      | 2(2) 選挙関係費                       | 公認推薦料、陣中見舞、選挙活動費等           |
| `EXP_MAGAZINE`       | 機関紙誌の発行事業費         | 政治活動費      | 2(3)(ア) 機関紙誌の発行事業費         | 材料費、印刷費、発送費、原稿料等             |
| `EXP_PUBLICITY`      | 宣伝事業費                   | 政治活動費      | 2(3)(イ) 宣伝事業費                   | 遊説費、広告料、ポスター・ビラ作成費等       |
| `EXP_PARTY_EVENT`    | 政治資金パーティー開催事業費 | 政治活動費      | 2(3)(ウ) 政治資金パーティー開催事業費 | 会場費、記念品代、講演諸経費等               |
| `EXP_OTHER_BUSINESS` | その他の事業費               | 政治活動費      | 2(3)(エ) その他の事業費               |                                              |
| `EXP_RESEARCH`       | 調査研究費                   | 政治活動費      | 2(4) 調査研究費                       | 研修会費、資料費、書籍購入費等               |
| `EXP_DONATION`       | 寄附・交付金                 | 政治活動費      | 2(5) 寄附・交付金                     | 政治団体への寄附、本部・支部への交付金等     |
| `EXP_MISC`           | その他の経費                 | 政治活動費      | 2(6) その他の経費                     | 上記以外の政治活動費                         |

---

## 選挙運動費用収支報告書（選挙用）の科目

### 収入科目（type: revenue, ledger_type: election）

| code                           | name               | report_category | 法定様式での位置  | 備考                 |
| ------------------------------ | ------------------ | --------------- | ----------------- | -------------------- |
| `REV_DONATION_INDIVIDUAL_ELEC` | 個人からの寄附     | 寄附            | 4-1. 寄附金       |                      |
| `REV_DONATION_POLITICAL_ELEC`  | 政治団体からの寄附 | 寄附            | 4-1. 寄附金       | 政党、政治団体等     |
| `REV_SELF_FINANCING`           | 自己資金           | その他の収入    | 4-2. その他の収入 | 候補者本人からの資金 |
| `REV_LOAN_ELEC`                | 借入金             | その他の収入    | 4-2. その他の収入 | 選挙運動のための借入 |
| `REV_MISC_ELEC`                | その他の収入       | その他の収入    | 4-2. その他の収入 | 上記以外（利子等）   |

### 公費負担（type: subsidy, ledger_type: election）

| code             | name     | report_category | 備考                             |
| ---------------- | -------- | --------------- | -------------------------------- |
| `SUBSIDY_PUBLIC` | 公費負担 | 公費負担        | 選挙公営による負担（参考記録用） |

※ 公費負担は法定の収支報告書では収入に計上されないが、透明化のために記録

### 支出科目 - 選挙運動費用 10 費目（type: expense, ledger_type: election）

| code                     | name   | report_category | 法定様式での位置 | 公費対象 | 備考                                             |
| ------------------------ | ------ | --------------- | ---------------- | -------- | ------------------------------------------------ |
| `EXP_PERSONNEL_ELEC`     | 人件費 | 選挙運動費用    | 5(1) 人件費      |          | 事務員報酬、車上運動員報酬、労務者報酬等         |
| `EXP_BUILDING_ELEC`      | 家屋費 | 選挙運動費用    | 5(2) 家屋費      |          | ※下記参照                                        |
| `EXP_COMMUNICATION_ELEC` | 通信費 | 選挙運動費用    | 5(3) 通信費      |          | 電話料、切手代、郵便料等                         |
| `EXP_TRANSPORT_ELEC`     | 交通費 | 選挙運動費用    | 5(4) 交通費      |          | 運動員への交通費実費弁償、鉄道賃、車賃等         |
| `EXP_PRINTING_ELEC`      | 印刷費 | 選挙運動費用    | 5(5) 印刷費      | ✅       | はがき、ビラ、ポスター等の印刷代                 |
| `EXP_ADVERTISING_ELEC`   | 広告費 | 選挙運動費用    | 5(6) 広告費      | ✅       | 看板・たすき作成費、拡声機借上料、新聞折込料等   |
| `EXP_STATIONERY_ELEC`    | 文具費 | 選挙運動費用    | 5(7) 文具費      |          | 用紙、ボールペン、コピー代、事務所消耗品等       |
| `EXP_FOOD_ELEC`          | 食料費 | 選挙運動費用    | 5(8) 食料費      |          | 茶菓代、弁当代、運動員への弁当料・茶菓料実費弁償 |
| `EXP_LODGING_ELEC`       | 休泊費 | 選挙運動費用    | 5(9) 休泊費      |          | 運動員への宿泊料実費弁償、休憩所費用等           |
| `EXP_MISC_ELEC`          | 雑費   | 選挙運動費用    | 5(10) 雑費       |          | 上記以外の選挙運動費用                           |

#### 家屋費の子科目

家屋費は以下の子科目を持ちます（Hub の account_codes で管理）：

| code                       | name         | parent_code         | 備考                           |
| -------------------------- | ------------ | ------------------- | ------------------------------ |
| `EXP_BUILDING_ELEC_OFFICE` | 選挙事務所費 | `EXP_BUILDING_ELEC` | 選挙事務所の賃借料・設営費等   |
| `EXP_BUILDING_ELEC_VENUE`  | 集合会場費等 | `EXP_BUILDING_ELEC` | 演説会場費、その他の集合会場費 |

---

## 共通科目（資産・負債・純資産）

### 資産科目（type: asset, ledger_type: both）

| code            | name         | report_category | 備考 |
| --------------- | ------------ | --------------- | ---- |
| `ASSET_CASH`    | 現金         | 資産            |      |
| `ASSET_BANK`    | 普通預金     | 資産            |      |
| `ASSET_SAVINGS` | 定期預金     | 資産            |      |
| `ASSET_PREPAID` | 前払金       | 資産            |      |
| `ASSET_DEPOSIT` | 敷金・保証金 | 資産            |      |

### 負債科目（type: liability, ledger_type: both）

| code                    | name   | report_category | 備考 |
| ----------------------- | ------ | --------------- | ---- |
| `LIAB_LOAN`             | 借入金 | 負債            |      |
| `LIAB_ACCOUNTS_PAYABLE` | 未払金 | 負債            |      |

### 純資産科目（type: equity, ledger_type: both）

| code               | name       | report_category | 備考 |
| ------------------ | ---------- | --------------- | ---- |
| `EQUITY_CAPITAL`   | 元入金     | 純資産          |      |
| `EQUITY_CARRYOVER` | 前年繰越額 | 純資産          |      |

---

## 補助科目について

### 概要

補助科目は、勘定科目マスタ（account_codes）の下位区分としてユーザーが任意に追加できる科目です。

```
勘定科目マスタ（account_codes）  ← Hub で管理（システム共通）
├── 子科目（parent_code で紐付け） ← Hub で管理（システム共通）
└── 補助科目（sub_accounts）       ← Ledger で管理（ユーザーが任意追加）
```

### データ構造

```sql
sub_accounts (
  id UUID PRIMARY KEY,
  owner_user_id UUID,              -- 所有ユーザー
  ledger_type TEXT,                -- 台帳タイプ
  parent_account_code TEXT,        -- 親勘定科目コード
  name TEXT,                       -- 補助科目名
  created_at TIMESTAMPTZ
)
```

### ユーザー定義補助科目の使用例

| 親勘定科目                  | 補助科目例（ユーザー追加）                 |
| --------------------------- | ------------------------------------------ |
| `EXP_UTILITIES`（光熱水費） | 電気代、水道代、ガス代                     |
| `EXP_OFFICE`（事務所費）    | 家賃、電話代、インターネット料、火災保険料 |
| `ASSET_BANK`（普通預金）    | 〇〇銀行本店、△△ 信用金庫                  |

### 補助科目 vs 関係者（contacts）

| 用途                             | 使用するマスタ           |
| -------------------------------- | ------------------------ |
| 支出の目的・種類の細分化         | 補助科目（sub_accounts） |
| 取引相手（銀行、支払先、寄附者） | 関係者（contacts）       |

**例:**

- 「みずほ銀行」への振込 → 関係者として登録
- 「電気代」という支出の分類 → 補助科目として登録

---

## 現状の課題と改善案

### ✅ 現状で問題ないもの

1. **政治団体用の収入・支出科目** - 法定様式に完全準拠
2. **選挙運動用の支出科目（10 費目）** - 公職選挙法に準拠
3. **共通科目（資産・負債・純資産）** - 複式簿記に対応
4. **家屋費の子科目** - Hub の account_codes で `EXP_BUILDING_ELEC_OFFICE`（選挙事務所費）、`EXP_BUILDING_ELEC_VENUE`（集合会場費等）として管理

### ⚠️ 検討が必要なもの

#### 1. 都道府県議会議員選挙（PA）の公費負担

| 項目         | 現状                    | 改善案                       |
| ------------ | ----------------------- | ---------------------------- |
| 公費負担項目 | HR, HC, PG, CM, GM のみ | **PA（都道府県議会）を追加** |

**対応内容:**

```typescript
// seed-account-codes.ts に追加
{
  election_type_code: "PA",
  account_code: "EXP_PRINTING_ELEC",
  item_name: "選挙運動用ポスター",
  // ... 条例により異なるため基本形を登録
}
```

#### 2. 収入科目の report_category 統一

| 科目                           | 現在の report_category | 法定様式     | 改善案               |
| ------------------------------ | ---------------------- | ------------ | -------------------- |
| `REV_SELF_FINANCING`           | その他の収入           | その他の収入 | ✅ OK                |
| `REV_LOAN_ELEC`                | その他の収入           | その他の収入 | ✅ OK                |
| `REV_DONATION_INDIVIDUAL_ELEC` | 寄附                   | 寄附金       | 表記揺れの統一を検討 |

### 📋 改善優先度

| 優先度 | 項目                       | 工数 | ステータス |
| ------ | -------------------------- | ---- | ---------- |
| 中     | PA の公費負担項目追加      | 小   | ⚠️ 検討中  |
| 低     | report_category の表記統一 | 小   | ⚠️ 検討中  |

---

## 付録: 選挙タイプコード一覧

| code | name                 | 対象選挙           |
| ---- | -------------------- | ------------------ |
| `HR` | 衆議院議員選挙       | 小選挙区・比例代表 |
| `HC` | 参議院議員選挙       | 選挙区・比例代表   |
| `PG` | 都道府県知事選挙     | 都道府県知事       |
| `PA` | 都道府県議会議員選挙 | 都道府県議会       |
| `CM` | 市区町村長選挙       | 市区町村長         |
| `GM` | 市区町村議会議員選挙 | 市区町村議会       |

---

## 更新履歴

| 日付       | バージョン | 内容     |
| ---------- | ---------- | -------- |
| 2024-12-17 | 1.0        | 初版作成 |
